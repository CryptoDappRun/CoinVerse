(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[820],{285:(e,a,t)=>{"use strict";t.d(a,{$:()=>o});var s=t(5155),r=t(2115),l=t(9708),n=t(2085),c=t(9434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,a)=>{let{className:t,variant:r,size:n,asChild:o=!1,...d}=e,m=o?l.DX:"button";return(0,s.jsx)(m,{className:(0,c.cn)(i({variant:r,size:n,className:t})),ref:a,...d})});o.displayName="Button"},1394:(e,a,t)=>{"use strict";t.d(a,{eu:()=>c,q5:()=>i});var s=t(5155),r=t(2115),l=t(5977),n=t(9434);let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.bL,{ref:a,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});c.displayName=l.bL.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l._V,{ref:a,className:(0,n.cn)("aspect-square h-full w-full",t),...r})}).displayName=l._V.displayName;let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.H4,{ref:a,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});i.displayName=l.H4.displayName},2100:(e,a,t)=>{"use strict";t.d(a,{A:()=>l,c:()=>r});var s=t(2115);let r=(0,s.createContext)({user:null,loading:!0}),l=()=>(0,s.useContext)(r)},2523:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var s=t(5155),r=t(2115),l=t(9434);let n=r.forwardRef((e,a)=>{let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n})});n.displayName="Input"},2935:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var s=t(5155),r=t(6766),l=t(2115);function n(e){let{id:a,symbol:t,name:n,image:c,size:i=32}=e,o="/images/".concat(a,".png"),[d,m]=(0,l.useState)(o),[u,f]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{m("/images/".concat(a,".png")),f(!1)},[a,c]),u)?(0,s.jsx)("div",{className:"rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",style:{width:i,height:i,fontSize:i/2},children:t.slice(0,1)}):(0,s.jsx)(r.default,{src:d,alt:"".concat(n," logo"),width:i,height:i,className:"rounded-full",onError:()=>{d===o?m(c):f(!0)}})}},5057:(e,a,t)=>{"use strict";t.d(a,{J:()=>o});var s=t(5155),r=t(2115),l=t(968),n=t(2085),c=t(9434);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.b,{ref:a,className:(0,c.cn)(i(),t),...r})});o.displayName=l.b.displayName},6104:(e,a,t)=>{"use strict";t.d(a,{db:()=>i,j:()=>c});var s=t(3915),r=t(3004),l=t(5317);let n=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyD1yLgDKVlGXVcGzpKOcKiCxfs3C5nK-bw",authDomain:"fir-cryptochat.firebaseapp.com",projectId:"fir-cryptochat",storageBucket:"fir-cryptochat.firebasestorage.app",messagingSenderId:"613997822801",appId:"1:613997822801:web:83da3e4889ae60acf54970"}),c=(0,r.xI)(n),i=(0,l.aU)(n)},6393:(e,a,t)=>{"use strict";t.d(a,{default:()=>ea});var s=t(5155),r=t(2115),l=t(5695),n=t(6695),c=t(203),i=t(3926),o=t(9434),d=t(2100),m=t(6104),u=t(5317),f=t(285);let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...r})});x.displayName="Textarea";var h=t(1394),p=t(9677),g=t(6874),N=t.n(g),j=t(8856),y=t(172),v=t(9051);let b=r.forwardRef((e,a)=>{let{className:t,children:r,viewportRef:l,...n}=e;return(0,s.jsxs)(v.bL,{ref:a,className:(0,o.cn)("relative overflow-hidden",t),...n,children:[(0,s.jsx)(v.LM,{ref:l,className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(w,{}),(0,s.jsx)(v.OK,{})]})});b.displayName=v.bL.displayName;let w=r.forwardRef((e,a)=>{let{className:t,orientation:r="vertical",...l}=e;return(0,s.jsx)(v.VM,{ref:a,orientation:r,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...l,children:(0,s.jsx)(v.lr,{className:"relative flex-1 rounded-full bg-muted-foreground/50"})})});function k(e){let{cryptoId:a}=e,{user:t,loading:l}=(0,d.A)(),[c,i]=(0,r.useState)([]),[o,g]=(0,r.useState)(""),[v,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!0),C=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!a)return;S(!0);let e=(0,u.P)((0,u.rJ)(m.db,"chats/".concat(a,"/messages")),(0,u.My)("timestamp","desc"),(0,u.AB)(100)),t=(0,u.aQ)(e,e=>{let a=[];e.forEach(e=>{a.push({id:e.id,...e.data()})}),i(a.reverse()),S(!1)},e=>{console.error("Error fetching chat messages:",e),S(!1)});return()=>t()},[a]),(0,r.useEffect)(()=>{let e=C.current;e&&(e.scrollTop=e.scrollHeight)},[c]);let E=async()=>{if(o.trim()&&t&&!v&&t.displayName){w(!0),g("");try{await (0,u.gS)((0,u.rJ)(m.db,"chats/".concat(a,"/messages")),{text:o,timestamp:(0,u.O5)(),userId:t.uid,userName:t.displayName})}catch(e){console.error("Error sending message:",e),g(o)}finally{w(!1)}}},A=async e=>{e.preventDefault(),await E()};return l?(0,s.jsxs)(n.Zp,{className:"h-full max-h-[600px] flex flex-col",children:[(0,s.jsx)(n.aR,{children:(0,s.jsx)(n.ZB,{children:"Live Chat"})}),(0,s.jsx)(n.Wu,{className:"flex-1",children:(0,s.jsx)(j.E,{className:"h-full w-full"})}),(0,s.jsx)(n.wL,{children:(0,s.jsx)(j.E,{className:"h-10 w-full"})})]}):t?(0,s.jsxs)(n.Zp,{className:"flex flex-col h-full max-h-[600px]",children:[(0,s.jsx)(n.aR,{children:(0,s.jsx)(n.ZB,{children:"Live Chat"})}),(0,s.jsx)(n.Wu,{className:"flex-1 min-h-0 p-0",children:(0,s.jsx)(b,{className:"h-full",viewportRef:C,children:(0,s.jsx)("div",{className:"p-6 space-y-4",children:k?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(j.E,{className:"h-12 w-full"}),(0,s.jsx)(j.E,{className:"h-12 w-full"}),(0,s.jsx)(j.E,{className:"h-12 w-full"})]}):0===c.length?(0,s.jsx)("div",{className:"text-center text-muted-foreground h-full flex items-center justify-center",children:"No messages yet. Be the first to start the conversation!"}):c.map(e=>{var a,t;return(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(h.eu,{className:"h-8 w-8",children:(0,s.jsx)(h.q5,{children:null==(a=e.userName)?void 0:a.charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,s.jsx)("p",{className:"font-semibold text-sm",children:e.userName}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(null==(t=e.timestamp)?void 0:t.toDate)&&(0,p.m)(e.timestamp.toDate(),{addSuffix:!0})})]}),(0,s.jsx)("p",{className:"text-sm text-foreground/90 break-words",children:e.text})]})]},e.id)})})})}),(0,s.jsx)(n.wL,{className:"p-6 pt-4 border-t",children:(0,s.jsxs)("form",{onSubmit:A,className:"flex items-start gap-2 w-full",children:[(0,s.jsx)(x,{value:o,onChange:e=>g(e.target.value),placeholder:"Type your message...",className:"flex-1 resize-none",rows:1,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),E())}}),(0,s.jsxs)(f.$,{type:"submit",disabled:v||!o.trim(),children:[v&&(0,s.jsx)(y.A,{className:"animate-spin"}),"Send"]})]})})]}):(0,s.jsxs)(n.Zp,{className:"flex flex-col h-full max-h-[600px]",children:[(0,s.jsx)(n.aR,{children:(0,s.jsx)(n.ZB,{children:"Live Chat"})}),(0,s.jsxs)(n.Wu,{className:"flex-1 flex flex-col items-center justify-center text-center",children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"You must be logged in to join the chat."}),(0,s.jsx)(f.$,{asChild:!0,children:(0,s.jsx)(N(),{href:"/login",children:"Login to Chat"})})]})]})}w.displayName=v.VM.displayName;var S=t(7428);let C=()=>{let e=document.documentElement,a=a=>"hsla(".concat(getComputedStyle(e).getPropertyValue(a),")"),t=a("--border");return{grid:{show:!0,horizontal:{show:!0,size:1,color:t,style:"dashed"},vertical:{show:!1}},candle:{priceMark:{high:{color:a("--foreground")},low:{color:a("--foreground")}},tooltip:{showRule:"follow_cross",showType:"standard",labels:["Time:","Open:","Close:","High:","Low:","Volume:"]}},technicalIndicator:{bar:{upColor:a("--chart-2"),downColor:a("--destructive"),noChangeColor:a("--foreground")},line:{colors:[a("--primary"),a("--accent"),a("--secondary-foreground"),"#f1c40f","#e67e22"]}},xAxis:{tickLine:{show:!1},tickText:{paddingTop:5}},yAxis:{tickText:{paddingLeft:5}},separator:{color:t},crosshair:{horizontal:{line:{style:"dashed"}},vertical:{line:{style:"dashed"}}}}};function E(e){let{data:a,indicators:t=[]}=e,l=(0,r.useRef)(null);return((0,r.useLayoutEffect)(()=>{if(!l.current||((0,S.AS)(l.current),!a||0===a.length))return;let e=(0,S.Ts)(l.current,{theme:"dark"});if(!e)return;e.setStyles(C()),t.forEach(a=>{let t=["MA","EMA","SMA","BBI","BOLL"].includes(a.name);try{e.createIndicator(a.name,!t,{calcParams:a.calcParams})}catch(e){console.error("Failed to create indicator ".concat(a.name,":"),e)}}),e.applyNewData(a);let s=new ResizeObserver(()=>e.resize());return s.observe(l.current),()=>{s.disconnect()}},[a,t]),a&&0!==a.length)?(0,s.jsx)("div",{ref:l,className:"w-full h-full"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No historical price data available."})}var A=t(5452),P=t(5318);let R=A.bL,I=A.l9,L=A.ZL;A.bm;let O=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(A.hJ,{ref:a,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});O.displayName=A.hJ.displayName;let D=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(L,{children:[(0,s.jsx)(O,{}),(0,s.jsxs)(A.UC,{ref:a,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[r,(0,s.jsxs)(A.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(P.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});D.displayName=A.UC.displayName;let _=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};_.displayName="DialogHeader";let B=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};B.displayName="DialogFooter";let z=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(A.hE,{ref:a,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});z.displayName=A.hE.displayName;let F=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(A.VY,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",t),...r})});F.displayName=A.VY.displayName;var M=t(2523),Z=t(5057),J=t(239);let T=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(J.bL,{className:(0,o.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:a,children:(0,s.jsx)(J.zi,{className:(0,o.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});T.displayName=J.bL.displayName;var V=t(8271);let K=[{name:"MA",fullName:"Moving Average",defaultParams:[5,10,30],paramNames:["P1","P2","P3"],isOverlay:!0},{name:"EMA",fullName:"Exponential Moving Average",defaultParams:[6,12,20],paramNames:["P1","P2","P3"],isOverlay:!0},{name:"BOLL",fullName:"Bollinger Bands",defaultParams:[20,2],paramNames:["Period","StdDev"],isOverlay:!0},{name:"BBI",fullName:"Bull and Bear Index",defaultParams:[3,6,12,24],paramNames:["P1","P2","P3","P4"],isOverlay:!0},{name:"VOL",fullName:"Volume",defaultParams:[],paramNames:[],isOverlay:!1},{name:"MACD",fullName:"MACD",defaultParams:[12,26,9],paramNames:["Short","Long","Period"],isOverlay:!1},{name:"RSI",fullName:"Relative Strength Index",defaultParams:[6,12,24],paramNames:["P1","P2","P3"],isOverlay:!1},{name:"KDJ",fullName:"Stochastic Oscillator",defaultParams:[9,3,3],paramNames:["K","D","J"],isOverlay:!1}];function W(e){let{activeIndicators:a,onApply:t}=e,[l,n]=(0,r.useState)(!1),[c,i]=(0,r.useState)({});(0,r.useEffect)(()=>{if(l){let e={};K.forEach(t=>{var s;let r=a.find(e=>e.name===t.name);e[t.name]={active:!!r,params:null!=(s=null==r?void 0:r.calcParams)?s:t.defaultParams}}),i(e)}},[l,a]);let o=(e,a)=>{i(t=>({...t,[e]:{...t[e],active:a}}))},d=(e,a,t)=>{let s=parseInt(t,10);isNaN(s)||i(t=>{let r=[...t[e].params];return r[a]=s,{...t,[e]:{...t[e],params:r}}})};return(0,s.jsxs)(R,{open:l,onOpenChange:n,children:[(0,s.jsx)(I,{asChild:!0,children:(0,s.jsxs)(f.$,{variant:"outline",size:"icon",children:[(0,s.jsx)(V.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Indicator Settings"})]})}),(0,s.jsxs)(D,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(_,{children:[(0,s.jsx)(z,{children:"Indicator Settings"}),(0,s.jsx)(F,{children:"Select indicators to display on the chart and customize their parameters."})]}),(0,s.jsx)(b,{className:"h-[400px] pr-6",children:(0,s.jsx)("div",{className:"space-y-6 py-4",children:K.map(e=>{var a,t,r;return(0,s.jsxs)("div",{className:"flex flex-col gap-4 p-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(Z.J,{htmlFor:"switch-".concat(e.name),className:"text-base",children:[e.fullName," (",e.name,")"]}),(0,s.jsx)(T,{id:"switch-".concat(e.name),checked:null!=(r=null==(a=c[e.name])?void 0:a.active)&&r,onCheckedChange:a=>o(e.name,a)})]}),(null==(t=c[e.name])?void 0:t.active)&&e.paramNames.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 pl-2",children:e.paramNames.map((a,t)=>{var r,l;return(0,s.jsxs)("div",{className:"grid gap-1",children:[(0,s.jsx)(Z.J,{htmlFor:"param-".concat(e.name,"-").concat(t),className:"text-xs text-muted-foreground",children:a}),(0,s.jsx)(M.p,{id:"param-".concat(e.name,"-").concat(t),type:"number",value:null!=(l=null==(r=c[e.name])?void 0:r.params[t])?l:"",onChange:a=>d(e.name,t,a.target.value),className:"h-8"})]},a)})})]},e.name)})})}),(0,s.jsx)(B,{children:(0,s.jsx)(f.$,{onClick:()=>{let e=[];for(let t of K){var a;(null==(a=c[t.name])?void 0:a.active)&&e.push({name:t.name,calcParams:c[t.name].params.length>0?c[t.name].params:void 0})}t(e),n(!1)},children:"Apply Changes"})})]})]})}var U=t(7822),$=t(3884);let H=[{name:"MA",calcParams:[5,10,30]},{name:"VOL"},{name:"MACD",calcParams:[12,26,9]}],q="chart-indicator-settings";function G(e){let{cryptoId:a,cryptoName:t,cryptoSymbol:l}=e,[c,i]=(0,r.useState)(H),[d,m]=(0,r.useState)(!1),u=(0,r.useRef)(null),[x,h]=(0,r.useState)([]),[p,g]=(0,r.useState)(!0);(0,r.useEffect)(()=>{try{let e=localStorage.getItem(q);if(e){let a=JSON.parse(e);Array.isArray(a)&&i(a)}}catch(e){console.error("Failed to load indicator settings from localStorage",e),i(H)}},[]),(0,r.useEffect)(()=>{let e="historical-data-".concat(a),t=async()=>{g(!0);try{let a=localStorage.getItem(e);if(a){let e=JSON.parse(a);Array.isArray(e)&&e.length>0&&h(e)}}catch(e){console.error("Failed to load historical data from localStorage",e)}try{let t=await fetch("https://api.coingecko.com/api/v3/coins/".concat(a,"/ohlc?vs_currency=usd&days=365"));if(!t.ok)return void console.error("Failed to fetch historical data for ".concat(a,": ").concat(t.statusText));let s=await t.json();if(Array.isArray(s)&&s.length>0){let a=s.map(e=>{let[a,t,s,r,l]=e;return{timestamp:a,open:t,high:s,low:r,close:l,volume:1e6*Math.random()}});h(a);try{localStorage.setItem(e,JSON.stringify(a))}catch(e){console.error("Failed to save historical data to localStorage",e)}}}catch(e){console.error("Error fetching historical data for ".concat(a,":"),e)}finally{g(!1)}};a&&t()},[a]);let N=()=>{m(!!document.fullscreenElement)};return(0,r.useEffect)(()=>(document.addEventListener("fullscreenchange",N),()=>{document.removeEventListener("fullscreenchange",N)}),[]),(0,s.jsxs)(n.Zp,{ref:u,className:(0,o.cn)("flex flex-col h-full",d&&"bg-background fixed inset-0 z-[100] w-screen h-screen rounded-none border-none"),children:[(0,s.jsxs)(n.aR,{className:"flex flex-row items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.ZB,{children:"Price Chart"}),(0,s.jsxs)(n.BT,{children:["Price history for ",t," (",l,")"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(W,{activeIndicators:c,onApply:e=>{i(e);try{localStorage.setItem(q,JSON.stringify(e))}catch(e){console.error("Failed to save indicator settings to localStorage",e)}}}),(0,s.jsxs)(f.$,{variant:"outline",size:"icon",onClick:()=>{if(document.fullscreenElement)document.exitFullscreen();else{var e;null==(e=u.current)||e.requestFullscreen().catch(e=>{console.error("Error attempting to enable full-screen mode: ".concat(e.message," (").concat(e.name,")"))})}},children:[d?(0,s.jsx)(U.A,{className:"h-4 w-4"}):(0,s.jsx)($.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:d?"Exit fullscreen":"Enter fullscreen"})]})]})]}),(0,s.jsx)(n.Wu,{className:"flex-1 pl-0 pr-4 md:pr-6 pb-0",children:(0,s.jsx)("div",{className:(0,o.cn)("w-full",d?"h-full":"h-[500px]"),children:p?(0,s.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,s.jsx)(y.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,s.jsx)(E,{data:x,indicators:c})})})]})}var Y=t(2935);let Q=function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:a?8:2}).format(e)},X=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:2}).format(e);function ee(){return(0,s.jsxs)("div",{className:"container mx-auto py-8 px-4 animate-pulse",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,s.jsx)(j.E,{className:"h-12 w-12 rounded-full"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j.E,{className:"h-10 w-48"}),(0,s.jsx)(j.E,{className:"h-8 w-24"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)(j.E,{className:"h-32 rounded-lg"}),(0,s.jsx)(j.E,{className:"h-32 rounded-lg"}),(0,s.jsx)(j.E,{className:"h-32 rounded-lg"}),(0,s.jsx)(j.E,{className:"h-32 rounded-lg"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsx)(j.E,{className:"h-[600px] rounded-lg"})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)(j.E,{className:"h-[600px] rounded-lg"})})]})]})}function ea(){let e=(0,l.useParams)().id,[a,t]=(0,r.useState)(null),[d,m]=(0,r.useState)(!0),[u,x]=(0,r.useState)(null),h=(0,l.useRouter)();return((0,r.useEffect)(()=>{let a=async()=>{m(!0),x(null);let a="crypto-detail-".concat(e);try{let s=await fetch("https://api.coingecko.com/api/v3/coins/".concat(e,"?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false"));if(!s.ok)throw Error(s.statusText);let r=await s.json();if(!r||!r.id)throw Error("Invalid data received from API");let l={id:r.id,rank:r.market_cap_rank,name:r.name,symbol:r.symbol.toUpperCase(),price:r.market_data.current_price.usd,marketCap:r.market_data.market_cap.usd,change24h:r.market_data.price_change_percentage_24h,image:r.image.large};t(l);try{localStorage.setItem(a,JSON.stringify(l))}catch(e){console.error("Failed to save crypto data to localStorage",e)}}catch(s){console.error("Failed to fetch data for ".concat(e,":"),s.message);try{let s=localStorage.getItem(a);if(s){let e=JSON.parse(s);t(e)}else x("Could not load data for ".concat(e,". Please try again later."))}catch(a){console.error("Failed to load crypto data from localStorage",a),x("Could not load data for ".concat(e,". Please try again later."))}}finally{m(!1)}};e?a():(x("No crypto ID provided."),m(!1))},[e]),d)?(0,s.jsx)(ee,{}):u?(0,s.jsxs)("div",{className:"container mx-auto py-8 px-4 flex flex-col items-center justify-center min-h-[calc(100vh-200px)]",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-destructive mb-4",children:"An Error Occurred"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:u}),(0,s.jsx)(f.$,{onClick:()=>h.push("/"),className:"mt-6",children:"Go to Homepage"})]}):a?(0,s.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,s.jsx)(Y.A,{id:a.id,symbol:a.symbol,image:a.image,name:a.name,size:48}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:a.name}),(0,s.jsx)("p",{className:"text-2xl text-muted-foreground",children:a.symbol})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,s.jsx)(n.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Price"})}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)("p",{className:"text-3xl font-bold font-mono",children:Q(a.price,a.price<1)})})]}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,s.jsx)(n.ZB,{className:"text-sm font-medium text-muted-foreground",children:"24h Change"})}),(0,s.jsx)(n.Wu,{children:null!=a.change24h?(0,s.jsxs)("div",{className:(0,o.cn)("flex items-baseline gap-2 text-3xl font-bold",a.change24h>=0?"text-chart-2":"text-destructive"),children:[a.change24h>=0?(0,s.jsx)(c.A,{className:"h-6 w-6"}):(0,s.jsx)(i.A,{className:"h-6 w-6"}),(0,s.jsxs)("span",{children:[Math.abs(a.change24h).toFixed(2),"%"]})]}):(0,s.jsx)("p",{className:"text-3xl font-bold text-muted-foreground",children:"N/A"})})]}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,s.jsx)(n.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Market Cap"})}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)("p",{className:"text-3xl font-bold font-mono",children:X(a.marketCap)})})]}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,s.jsx)(n.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Market Cap Rank"})}),(0,s.jsx)(n.Wu,{children:(0,s.jsxs)("p",{className:"text-3xl font-bold",children:["#",a.rank]})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsx)(G,{cryptoId:a.id,cryptoName:a.name,cryptoSymbol:a.symbol})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)(k,{cryptoId:a.id})})]})]}):(0,s.jsxs)("div",{className:"container mx-auto py-8 px-4 flex flex-col items-center justify-center min-h-[calc(100vh-200px)]",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-destructive mb-4",children:"Cryptocurrency Not Found"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:['The cryptocurrency with ID "',e,'" could not be found.']}),(0,s.jsx)(f.$,{onClick:()=>h.push("/"),className:"mt-6",children:"Go to Homepage"})]})}},6695:(e,a,t)=>{"use strict";t.d(a,{BT:()=>o,Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>c,wL:()=>m});var s=t(5155),r=t(2115),l=t(9434);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});n.displayName="Card";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});c.displayName="CardHeader";let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});i.displayName="CardTitle";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});o.displayName="CardDescription";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",t),...r})});d.displayName="CardContent";let m=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},7191:(e,a,t)=>{Promise.resolve().then(t.bind(t,6393))},8856:(e,a,t)=>{"use strict";t.d(a,{E:()=>l});var s=t(5155),r=t(9434);function l(e){let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",a),...t})}},9434:(e,a,t)=>{"use strict";t.d(a,{cn:()=>l});var s=t(2596),r=t(9688);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.QP)((0,s.$)(a))}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,644,270,324,762,244,625,891,441,684,358],()=>a(7191)),_N_E=e.O()}]);