(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1007:(e,t,a)=>{"use strict";a.d(t,{CryptoList:()=>w});var r=a(5155),s=a(2115),l=a(5695);async function c(){try{let e=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1&sparkline=false");if(!e.ok)return console.error("Failed to fetch crypto data: ".concat(e.statusText)),[];let t=await e.json();if(!Array.isArray(t))return console.error("Fetched data is not an array"),[];return t.map(e=>({id:e.id,rank:e.market_cap_rank,name:e.name,symbol:e.symbol.toUpperCase(),price:e.current_price,marketCap:e.market_cap,change24h:e.price_change_percentage_24h,image:e.image}))}catch(e){return console.error("Error fetching top 100 cryptos:",e),[]}}var n=a(9434);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",a),...s})})});i.displayName="Table";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",a),...s})});o.displayName="TableHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...s})});d.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});m.displayName="TableRow";let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});h.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption";let x=(0,a(157).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var f=a(203),p=a(3926),g=a(2523),b=a(8856),j=a(2935);let N=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:e<1?8:2}).format(e),y=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:2}).format(e);function w(){let[e,t]=(0,s.useState)(""),[a,w]=(0,s.useState)([]),[v,k]=(0,s.useState)(!0),[S,_]=(0,s.useState)({}),C=(0,s.useRef)(new Map),E=(0,l.useRouter)();(0,s.useEffect)(()=>{(async()=>{k(!0);let e=!1;try{let t=localStorage.getItem("cryptoData");if(t){let a=JSON.parse(t);a.length>0&&(w(a),C.current=new Map(a.map(e=>[e.id,e.price])),e=!0)}}catch(e){console.error("Failed to load or parse cached crypto data:",e)}if(!e){let e=await c();if(e.length>0){w(e),C.current=new Map(e.map(e=>[e.id,e.price]));try{localStorage.setItem("cryptoData",JSON.stringify(e))}catch(e){console.error("Failed to save to localStorage",e)}}}k(!1)})();let e=setInterval(async()=>{let e=await c();if(e.length>0){try{localStorage.setItem("cryptoData",JSON.stringify(e))}catch(e){console.error("Failed to save crypto data to localStorage",e)}let t={},a=new Map;e.forEach(e=>{let r=C.current.get(e.id);void 0!==r&&e.price!==r&&(t[e.id]=e.price>r?"up":"down"),a.set(e.id,e.price)}),w(e),_(t),C.current=a,setTimeout(()=>_({}),500)}else console.error("Fetch failed, using stale or cached data.")},3e4);return()=>clearInterval(e)},[]);let F=(0,s.useMemo)(()=>e?a.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.symbol.toLowerCase().includes(e.toLowerCase())):a,[a,e]);return v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative mb-6",children:[(0,r.jsx)(x,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,r.jsx)(g.p,{placeholder:"Search by name or symbol...",className:"w-full pl-12 h-12 text-base",value:e,disabled:!0})]}),(0,r.jsx)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm overflow-hidden",children:(0,r.jsxs)(i,{children:[(0,r.jsx)(o,{children:(0,r.jsxs)(m,{className:"hover:bg-transparent",children:[(0,r.jsx)(h,{className:"w-[50px] text-center",children:"#"}),(0,r.jsx)(h,{children:"Name"}),(0,r.jsx)(h,{className:"text-right",children:"Price"}),(0,r.jsx)(h,{className:"text-right hidden md:table-cell",children:"24h %"}),(0,r.jsx)(h,{className:"text-right hidden sm:table-cell",children:"Market Cap"})]})}),(0,r.jsx)(d,{children:Array.from({length:10}).map((e,t)=>(0,r.jsxs)(m,{className:"hover:bg-transparent",children:[(0,r.jsx)(u,{className:"text-center",children:(0,r.jsx)(b.E,{className:"h-5 w-5 mx-auto"})}),(0,r.jsx)(u,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(b.E,{className:"h-8 w-8 rounded-full"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(b.E,{className:"h-5 w-24"}),(0,r.jsx)(b.E,{className:"h-4 w-12 mt-1"})]})]})}),(0,r.jsx)(u,{className:"text-right",children:(0,r.jsx)(b.E,{className:"h-5 w-20 ml-auto"})}),(0,r.jsx)(u,{className:"hidden md:table-cell text-right",children:(0,r.jsx)(b.E,{className:"h-5 w-16 ml-auto"})}),(0,r.jsx)(u,{className:"hidden sm:table-cell text-right",children:(0,r.jsx)(b.E,{className:"h-5 w-24 ml-auto"})})]},t))})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative mb-6",children:[(0,r.jsx)(x,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,r.jsx)(g.p,{placeholder:"Search by name or symbol...",value:e,onChange:e=>t(e.target.value),className:"w-full pl-12 h-12 text-base"})]}),(0,r.jsx)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm overflow-hidden",children:(0,r.jsxs)(i,{children:[(0,r.jsx)(o,{children:(0,r.jsxs)(m,{className:"hover:bg-transparent",children:[(0,r.jsx)(h,{className:"w-[50px] text-center",children:"#"}),(0,r.jsx)(h,{children:"Name"}),(0,r.jsx)(h,{className:"text-right",children:"Price"}),(0,r.jsx)(h,{className:"text-right hidden md:table-cell",children:"24h %"}),(0,r.jsx)(h,{className:"text-right hidden sm:table-cell",children:"Market Cap"})]})}),(0,r.jsx)(d,{children:F.map(e=>(0,r.jsxs)(m,{onClick:()=>E.push("/crypto/".concat(e.id)),className:(0,n.cn)("cursor-pointer transition-colors",{"price-up":"up"===S[e.id],"price-down":"down"===S[e.id]}),children:[(0,r.jsx)(u,{className:"text-center text-muted-foreground font-medium",children:e.rank}),(0,r.jsx)(u,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(j.A,{id:e.id,symbol:e.symbol,image:e.image,name:e.name,size:32}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold",children:e.name}),(0,r.jsx)("p",{className:"text-muted-foreground",children:e.symbol})]})]})}),(0,r.jsx)(u,{className:"text-right",children:(0,r.jsx)("span",{className:"font-mono rounded-md px-1 py-0.5",children:N(e.price)})}),(0,r.jsx)(u,{className:"text-right hidden md:table-cell",children:null!=e.change24h?(0,r.jsxs)("div",{className:(0,n.cn)("flex items-center justify-end gap-1 font-mono",e.change24h>=0?"text-chart-2":"text-destructive"),children:[e.change24h>=0?(0,r.jsx)(f.A,{className:"w-3 h-3"}):(0,r.jsx)(p.A,{className:"w-3 h-3"}),(0,r.jsxs)("span",{children:[Math.abs(e.change24h).toFixed(2),"%"]})]}):(0,r.jsx)("span",{className:"text-muted-foreground",children:"N/A"})}),(0,r.jsx)(u,{className:"text-right hidden sm:table-cell font-mono",children:y(e.marketCap)})]},e.id))})]})})]})}},2523:(e,t,a)=>{"use strict";a.d(t,{p:()=>c});var r=a(5155),s=a(2115),l=a(9434);let c=s.forwardRef((e,t)=>{let{className:a,type:s,...c}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...c})});c.displayName="Input"},2935:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var r=a(5155),s=a(6766),l=a(2115);function c(e){let{id:t,symbol:a,name:c,image:n,size:i=32}=e,o="/images/".concat(t,".png"),[d,m]=(0,l.useState)(o),[h,u]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{m("/images/".concat(t,".png")),u(!1)},[t,n]),h)?(0,r.jsx)("div",{className:"rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",style:{width:i,height:i,fontSize:i/2},children:a.slice(0,1)}):(0,r.jsx)(s.default,{src:d,alt:"".concat(c," logo"),width:i,height:i,className:"rounded-full",onError:()=>{d===o?m(n):u(!0)}})}},8856:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var r=a(5155),s=a(9434);function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",t),...a})}},9284:(e,t,a)=>{Promise.resolve().then(a.bind(a,1007))},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(2596),s=a(9688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[324,625,441,684,358],()=>t(9284)),_N_E=e.O()}]);